$(document).ready(function(){objectFitImages(),$(".large-map").length&&$(".preloader").addClass("-is-visible"),$(".mainmenu-toggle").click(function(){$(this).toggleClass("is-active"),$(".navbar").toggleClass("is-open"),$("body").toggleClass("navbar-open")}),Hyphenator.run(),$(".socials__toggle").click(function(){$(".socials").toggleClass("-is-open")}),$(".socials__close").click(function(){$(".socials").removeClass("-is-open")});var e=$("#social-widget");if(e.length){for(var t=JSON.parse(e.attr("data-share")),i=e.attr("data-url"),o=[],s=0;s<t.length;s++)"facebook"==t[s].share?o.push({share:"facebook",logo:"icon-facebook"}):"twitter"==t[s].share?o.push({share:"twitter",logo:"icon-twitter"}):"linkedin"==t[s].share?o.push({share:"linkedin",logo:"icon-linkedin"}):"xing"==t[s].share?o.push({share:"xing",logo:"icon-xing"}):o.push(t[s]);e.jsSocials({shares:o,url:i,showLabel:!1,shareIn:"popup",showCount:!1})}!function(){if(document.querySelector(".scroll-pagination")){var e=$(".scroll-pagination").attr("data-button-text")||"Mehr Laden",t=$(".scroll-pagination").attr("data-spinner-image"),i=$.ias({container:".articles-list",item:".articles-list__item",pagination:".scroll-pagination",next:".scroll-pagination .next a"});i.extension(new IASSpinnerExtension({src:t})),i.extension(new IASTriggerExtension({text:e,html:'<li class="load-more"><button class="load-more__control js-load-articles" type="button">{text}</button></li>'}))}}(),$(".hero-list").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!0,fade:!0,cssEase:"linear",draggable:!1});var a=$(".accordion__list").attr("data-expand-button")||"Erfahre mehr",n=$(".accordion__list").attr("data-collapse-button")||"Schließen";function l(e){var t=[];return e.filter(":checked").each(function(){t.push($(this).val())}),t.join(",")}$(".accordion__list-item").hasClass("-is-open")&&$(".accordion__list-item.-is-open .accordion__content").css({display:"block"}),$(".accordion__toggle").click(function(){$(this).parents(".accordion__list-item").hasClass("-is-open")?($(this).parents(".accordion__list-item").removeClass("-is-open"),$(this).parents(".accordion__list-item").find(".accordion__content").slideUp(),$(this).parents(".accordion__list-item").find(".accordion__toggle").text(a)):($(".accordion__list .accordion__list-item").removeClass("-is-open"),$(".accordion__list .accordion__content").slideUp(),$(".accordion__list .accordion__toggle").text(a),$(this).parents(".accordion__list-item").addClass("-is-open"),$(this).parents(".accordion__list-item").find(".accordion__content").slideDown(),$(this).parents(".accordion__list-item").find(".accordion__toggle").text(n))}),$(".course-info-block .course-info-block__detail-content").each(function(){0<$(this).html().trim().length&&$(this).parents(".course-info-block").addClass("extended")}),$(".course-info-block__detail-toggle").click(function(){$(this).hasClass("expand")?($(this).removeClass("expand").text("Schließen"),$(this).parents(".course-info-block").find(".course-info-block__detail-content").slideDown()):($(this).addClass("expand").text("Erfahre mehr"),$(this).parents(".course-info-block").find(".course-info-block__detail-content").slideUp())});var r=$("#filter-sort"),c=r.parents("form"),f=c.find('input[type="checkbox"]'),d=c.find(".filter__reset");function v(e){var t=new google.maps.LatLngBounds,i=0;return e.forEach(function(e){e.getVisible()&&(i+=1,t.extend(e.position))}),i?t:null}f.length&&(r.val(l(f)),f.on("change",function(){r.val(l(f))})),d.click(function(){f.removeAttr("checked")});var p=document.getElementById("course-map");if(p){var m=new google.maps.Map(p,{zoom:12,disableDefaultUI:!0}),h=$(".course-map__data span"),g=[];h.each(function(){var t=new google.maps.InfoWindow({pixelOffset:new google.maps.Size(190,315),content:$(this).html()}),e=new google.maps.Marker({map:m,icon:$(this).attr("data-icon"),animation:google.maps.Animation.DROP,position:new google.maps.LatLng($(this).attr("data-lat"),$(this).attr("data-lon")),infowindow:t});google.maps.event.addListener(e,"click",function(){g.forEach(function(e){e.infowindow.close()}),this.infowindow.open(m,this)}),google.maps.event.addListener(t,"domready",function(){$(".gm-style-iw").parent().addClass("gm-style-iw-wrap");var e=$(".marker-popup__close").get();google.maps.event.addDomListener(e[0],"click",function(){t.close()})}),g.push(e)}),m.fitBounds(v(g))}var _=document.getElementById("large-map"),b=[];if(null!==_){var y={url:_.getAttribute("data-url"),markerIcon:_.getAttribute("data-marker-icon"),closeIcon:_.getAttribute("data-close-icon"),position:{lat:52.5082242,lng:13.3697942}};_=new google.maps.Map(_,{center:y.position,zoom:12,disableDefaultUI:!0,styles:[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}]});function w(e){if(void 0!==e)return[].concat(e.toString().split(","))}function k(e,t){t=t||function(){},e.forEach(function(e){e.setVisible(!1)}),t()}function C(e,s,a,n){"categories"===s&&(s="type"),e.forEach(function(e){var t=e[s],i=0;if($(n).length){var o=[];$(n).each(function(){o.push($(this).text())}),o.forEach(function(e){-1!==t.toString().toLowerCase().indexOf(e.toLowerCase())&&(i+=1)}),i===o.length&&e.setVisible(!0)}else-1!==t.toString().toLowerCase().indexOf(a.toString().toLowerCase())&&e.setVisible(!0)})}function x(e){return void 0!==e?e:""}$.getJSON(y.url,function(e){var o,t=[],i=[],s=$(".map-filter__main");if(s.length){var d=s.find(".map-filter__panels-link"),p=s.find(".map-filter__panels"),a=s.find(".filter-search__results"),n=s.find(".map-filter__categories-item"),l=$("#choosen-filter");for(var r in n.on("click",function(){var e=$(this),t=e.parents(".map-filter__panels-item").find("a").attr("href").replace("#",""),i=$("<div></div>",{class:"map-filter__choosen-label"}),o=$('<button type="button" class="map-filter__choosen-close"></button>').html('<img src="'+y.closeIcon+'">');if(i.attr("data-type","categories"),i.text(e.text()).append(o),i.addClass("-"+t),e.hasClass("-is-active")){e.removeClass("-is-active");var s=l.find(".map-filter__choosen-label");s.length&&s.each(function(){$(this).text().toLowerCase()==e.text().toLocaleLowerCase()&&$(this).remove()})}else e.addClass("-is-active"),l.append(i),o.on("click",function(){e.click()});k(b);var a=$(".map-filter__categories-item.-is-active");a.each(function(){var e=$(this).text();C(b,"categories",e,a),_.fitBounds(v(b))})}),e)w(e[r].Name).forEach(function(e){t.push(e)});o=i,t.map(function(e){return e.trim()}).filter(function(e,t,i){i.indexOf(e)===t&&e&&o.push(e)}),function(a,e,t){var i=$(e).find("#"+a);if(i.length){var o=$("<ul></ul>",{class:"map-filter__categories"}),n=$("#choosen-filter");t.sort().forEach(function(e){var t=$("<li></li>",{class:"map-filter__categories-item"}).text(e);"names"===a&&t.addClass("-is-hidden"),t.attr("data-type",a),o.append(t),t.on("click",function(){var e=$(this),t=$("<div></div>",{class:"map-filter__choosen-label"}),i=$('<button type="button" class="map-filter__choosen-close"></button>').html('<img src="'+y.closeIcon+'">');if(t.attr("data-type",a),t.text(e.text()).append(i),e.hasClass("-is-active")){e.removeClass("-is-active");var o=n.find(".map-filter__choosen-label");o.length&&o.each(function(){$(this).text().toLowerCase()==e.text().toLocaleLowerCase()&&$(this).remove()})}else e.addClass("-is-active"),n.append(t),i.on("click",function(){e.click()});k(b);var s=$(".map-filter__categories-item.-is-active");s.each(function(){var e=$(this).attr("data-type"),t=$(this).text();C(b,e,t,s);var i=v(b);null!==i&&_.fitBounds(i)})})}),i.append(o)}}("names",a,i);new google.maps.LatLngBounds;function m(e){b.forEach(function(e){e.infowindow.close()})}e.forEach(function(e,t){var i,o=new google.maps.LatLng(e.Latitude,e.Longitude);i='<div class="marker-popup '+(x(e.class)?"-"+e.class:"")+'">'+(x(e.Name)?'<div class="marker-popup__name">'+e.Name+"</div>":"")+(x(e.Address)?'<div class="marker-popup__address">'+e.Address+"</div>":"")+('<div class="marker-popup__description">'+(x(e.Phone)?"<div>Telefon: "+e.Phone+"</div>":"")+(x(e.Email)?'<div><a href="mailto:'+e.Email+'">'+e.Email+"</a></div>":"")+"</div>")+(x(e.Website)?'<div class="marker-popup__website"><a href="'+e.Website+'" target="_blank">'+e.Website+"</a></div>":"")+('<div class="marker-popup__footer">'+(x(e.closeText)?'<button type="button" class="marker-popup__close">'+e.closeText+"</button>":'<a href="#" class="marker-popup__close">Schließen</a>')+"</div>")+"</div>";var s=new google.maps.InfoWindow({pixelOffset:new google.maps.Size(190,315),content:i}),a=new google.maps.Marker({map:_,icon:e.marker||y.markerIcon,animation:google.maps.Animation.DROP,position:o,infowindow:s,id:r.ID,featured:e.Featured,type:e.categories});a.names=e.Name,a.setVisible(!0),google.maps.event.addListener(a,"click",function(){m(_),this.infowindow.open(_,this)}),google.maps.event.addListener(s,"domready",function(){$(".gm-style-iw").parent().addClass("gm-style-iw-wrap");var e=$(".marker-popup__close").get();google.maps.event.addDomListener(e[0],"click",function(){s.close()})}),b.push(a)}),d.length&&d.on("click",function(e){e.preventDefault();var t=$(this),i=t.attr("href").replace("#",""),o=p.find(".map-filter__panels-block"),s=window.innerWidth;if("all"===i){b.forEach(function(e){e.setVisible(!0)}),m();var a=d.find(".-is-active").not(t.parent()),n=$(".map-filter__choosen-label");a.removeClass("-is-active"),n.remove(),_.fitBounds(v(b))}if(t.parents("ul").find(".-is-active:not(.map-filter__categories-item)").removeClass("-is-active"),t.parent().addClass("-is-active"),p.addClass("-is-active"),o.removeClass("-is-active"),o.filter('[id="'+i+'"]').addClass("-is-active"),s<768){var l=$(".map-mobile-controls__toggle"),r=$(".map-mobile-controls__back"),c=$(".map-mobile-controls"),f=$(".map-filter__controls");"all"===i?(l.removeClass("-is-shown"),f.removeClass("-mobile-show"),f.removeClass("-hide")):p.hasClass("-is-active")?(r.addClass("-is-shown"),f.addClass("-hide"),c.addClass("-offset")):r.removeClass("-is-shown")}return!1});var c=$("#map-search-keywords");if(c.length){var f=c.find(".filter-search__input");f.length&&f.on("keyup",function(e){e.preventDefault();var t=$(this);c.parent().find(".map-filter__categories-item").each(function(){-1!==$(this).text().toLowerCase().indexOf(t.val().toLowerCase())&&""!==t.val()?$(this).removeClass("-is-hidden"):$(this).addClass("-is-hidden")})})}var h=$(".map-mobile-controls");if(h.length){var g=h.find(".map-mobile-controls__back"),u=h.find(".map-mobile-controls__toggle");d=s.find(".map-filter__controls");u.on("click",function(){var e=s.find(".map-filter__panels-block.-is-active");$(this).hasClass("-is-shown")?($(this).removeClass("-is-shown"),d.removeClass("-mobile-show"),d.removeClass("-hide"),h.removeClass("-offset"),e.removeClass("-is-active"),g.removeClass("-is-shown")):($(this).addClass("-is-shown"),d.addClass("-mobile-show"))}),g.on("click",function(){s.find(".map-filter__panels-block.-is-active").removeClass("-is-active"),d.removeClass("-hide"),h.removeClass("-offset"),$(this).removeClass("-is-shown")})}$(".preloader").removeClass("-is-visible")}})}function u(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}0<$(".cookiebanner").length&&($(".cookiebanner__accept, .cookiebanner__close").on("click",function(e){e.preventDefault(),null==u("cookiebanner")&&(!function(e,t,i){var o=(i=i||{}).expires;if("number"==typeof o&&o){var s=new Date;s.setTime(s.getTime()+1e3*o),o=i.expires=s}o&&o.toUTCString&&(i.expires=o.toUTCString());var a=e+"="+(t=encodeURIComponent(t));for(var n in i){a+="; "+n;var l=i[n];!0!==l&&(a+="="+l)}document.cookie=a}("cookiebanner","true",{path:"/",expires:26e5}),$(".cookiebanner").removeClass("-is-visible"))}),void 0!==u("cookiebanner")?$(".cookiebanner").removeClass("-is-visible"):$(".cookiebanner").addClass("-is-visible"))}),$(window).scroll(function(){}),$(window).resize(function(){});